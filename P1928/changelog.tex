\section{Changelog}
\begin{revision}
\item Target \CC{}26, addressing SG1 and LEWG.
\item Call for a merge of the (improved \& adjusted) TS specification to the IS.
\item Discuss changes to the ABI tags as consequence of TS experience; calls for polls to change the status quo.
\item Add template parameter \code{T} to \code{simd_abi::fixed_size}.
\item Remove \code{simd_abi::compatible}.
\item Add (but ask for removal) \code{simd_abi::abi_stable}.
\item Mention TS implementation in GCC releases.
\item Add more references to related papers.
\item Adjust the clause number for [numbers] to latest draft.
\item Add open question: what is the correct clause for [simd]?
\item Add open question: integration with ranges.
\item Add \code{simd_mask} generator constructor.
\item Consistently add simd and simd_mask to headings.
\item Remove experimental and parallelism_v2 namespaces.
\item Present the wording twice: with and without diff against N4808 (Parallelism TS 2).
\item Default load/store flags to \code{element_aligned}.
\item Generalize casts: conditionally \code{explicit} converting constructors.
\item Remove named cast functions.
\end{revision}

\begin{revision}
\item Add floating-point conversion rank to condition of \code{explicit} for converting constructors.
\item Call out different or equal semantics of the new ABI tags.
\item Update introductory paragraph of \sect{sec:changes}; R1 incorrectly kept the text from R0.
\item Define simd::size as a \code{constexpr} static data-member of type \code{integral_constant<size_t, N>}. This simplifies passing the size via function arguments and still be useable as a constant expression in the function body.
\item Document addition of \code{constexpr} to the API.
\item Add \code{constexpr} to the wording.
\item Removed ABI tag for passing \code{simd} over ABI boundaries.
\item Apply cast interface changes to the wording.
\item Explain the plan: what this paper wants to merge vs. subsequent papers for additional features. With an aim of minimal removal/changes of wording after this paper.
\item Document rationale and design intent for \code{where} replacement.
\end{revision}

\begin{revision}
\item Propose alternative to \code{hmin} and \code{hmax}.
\item Discuss \code{simd_mask} reductions wrt. consistency with \code{<bit>}. Propose better names to avoid ambiguity.
\item Remove \code{some_of}.
\item Add unary \code{\~{}} to \code{simd_mask}.
\item Discuss and ask for confirmation of masked ``overloads'' names and argument order.
\item Resolve inconsistencies wrt. \code{int} and \code{size_t}: Change \code{fixed_size} and \code{resize_simd} NTTPs from \code{int} to \code{size_t} (for consistency).
\item Discuss conversions on loads and stores.
\item Point to \cite{P2509R0} as related paper.
\item Generalize load and store from pointer to \code{contiguous_iterator}. (\sect{sec:contiguousItLoadStore})
\item Moved ``\code{element_reference} is overspecified'' to ``Open questions''.
\end{revision}

\begin{revision}
\item Remove wording diff.
\item Add std::simd to the paper title.
\item Update ranges integration discussion and mention formatting support via
  ranges (\sect{sec:formatting}).
\item Fix: pass iterators by value not const-ref.
\item Add lvalue-ref qualifier to subscript operators (\sect{sec:lvalue-subscript}).
\item Constrain \code{simd} operators: require operator to be well-formed on objects of \code{value_type} (\ref{sec:simd.unary}, \ref{sec:simd.binary}).
\item Rename mask reductions as decided in Issaquah.
\item Remove R3 ABI discussion and add follow-up question.
\item Add open question on first template parameter of \code{simd_mask} (\sect{sec:basicsimdmask}).
\item Overload loads and stores with mask argument (\ref{sec:simd.ctor}, \ref{sec:simd.copy}, \ref{sec:simd.mask.ctor}, \ref{sec:simd.mask.copy}).
\item Respecify \simd reductions to use a \mask argument instead of \code{const_where_expression} (\ref{sec:simd.reductions}).
\item Add \mask operators returning a \simd (\ref{sec:simd.mask.unary}, \ref{sec:simd.mask.conv})
\item Add conditional operator overloads as hidden friends to \simd and \mask
  (\ref{sec:simd.cond}, \ref{sec:simd.mask.cond}).
\item Discuss \std\code{hash} for \simd (\sect{sec:hash}).
\item Constrain some functions (e.g., min, max, clamp) to be \code{totally_ordered} (\ref{sec:simd.reductions}, \ref{sec:simd.alg}).
\item Asking for reconsideration of conversion rules.
\item Rename load/store flags (\sect{sec:renameandextendflags}).
\item Extend load/store flags with a new flag for conversions on load/store. (\sect{sec:renameandextendflags}).
\item Update \code{hmin}/\code{hmax} discussion with more extensive naming discussion (\sect{sec:hminhmax}).
\item Discuss freestanding \simd (\sect{sec:freestanding}).
\item Discuss \code{split} and \code{concat} (\sect{sec:splitandconcat}).
\item Apply the new library specification style from P0788R3.
\end{revision}

\begin{revision}
\item Added \code{simd_select} discussion.
\end{revision}

\begin{revision}
\item Updated the wording for changes discussed in and requested by LEWG in Varna.
\item Rename to \code{simd_cat} and \code{simd_split}.
\item Drop \code{simd_cat(array)} overload.
\item Replace \code{simd_split} by \code{simd_split} as proposed in P1928R4.
\item Use \code{indirectly_writable} instead of \code{output_iterator}.
\item Replace most \code{size_t} and \code{int} uses by \code{\textit{simd-size-type}} signed integer type.
\item Remove everything in \code{simd_abi} and the namespace itself.
\item Reword section on ABI tags using exposition only ABI tag aliases.
\item Guarantee generator ctor calls callable exactly once per index.
\item Remove \code{int}/\code{unsigned int} exception from conversion rules of broadcast ctor.
\item Rename \code{loadstore_flags} to \code{simd_flags}.
\item Make \code{simd_flags::operator|} \code{consteval}.
\item Remove \code{simd_flags::operator\&} and \code{simd_flags::operator\^}.
\item Increase minimum SIMD width to 64.
\item Rename \code{hmin}/\code{hmax} to \code{reduce_min} and \code{reduce_max}.
\item Refactor \code{simd_mask<T, Abi>} to \code{basic_simd_mask<Bytes, Abi>} and replace all occurrences accordingly.
\item Rename \code{simd<T, Abi>} to \code{basic_simd<Bytes, Abi>} and replace all occurrences accordingly.
\item Remove \code{long double} from the set of vectorizable types.
\item Remove \code{is_abi_tag}, \code{is_simd}, and \code{is_simd_mask} traits.
\item Make \code{simd_size} exposition only.
\end{revision}

\begin{revision}
\item Remove mask reduction precondition but ask LEWG for reversal of that decision (\sect{sec:removemaskreductionprecondition}).
\item Fix return type of \mask unary operators.
\item Fix \code{bool} overload of \simdselect (\sect{sec:simdselectwording}).
\item Remove unnecessary implementation freedom in \code{simd_split} (\sect{sec:bettersimdsplitwording}).
\item Use \code{class} instead of \code{typename} in template heads.
\item Implement LEWG decision to SFINAE on \emph{values} of
  constexpr-wrapper-like arguments to the broadcast ctor (\ref{sec:simd.ctor}).
\item Add relational operators to \mask as directed by LEWG (\ref{sec:simd.mask.comparison}).
\item Update section on \code{size_t} vs. \code{int} usage (\sect{sec:simdsizetype}).
\item Remove all open design questions, leaving LWG / wording questions.
\item Add LWG question on implementation note (\sect{sec:implnote}).
\item Add constraint for \code{BinaryOperation} to \code{reduce} overloads (\ref{sec:simd.reductions}).
%  \todo Add \code{numeric_limits} / numeric traits specializations since behavior of e.g. \code{simd<float>} and \code{float} may differ for reasonable implementations.
\end{revision}

\begin{revision}
\item Include \code{std::optional} return value from \code{reduce_min_index} and \code{reduce_max_index} in the exploration.
\item Fix \LaTeX{} markup errors.
\item Remove repetitive mention of “exposition only” before \deducet.
\item Replace “TU” with “translation unit”.
\item Reorder first paragraphs in the wording, especially reducing the note on compiling down to SIMD instructions.
\item Replace cv-unqualified arithmetic types with a more precise list of types.
\item Move the place where “supported” is defined.
\end{revision}

\begin{revision}
\item Improve wording that includes the \CC{}23 extended floating-point types in the set of vectorizable types (\ref{wording.vectorizable.types}).
\item Improve wording that defines “selected indices” and “selected elements” (\ref{wording.selected.indices}).
\item Remove superfluous introduction paragraph.
\item Improve wording introducing the intent of ABI tags (\ref{wording.ABI.tag})
\item Consistently use \code{size} as a callable in the wording.
\item Add missing \code{type_identity_t} for \code{reduce} (\ref{sec:simd.syn}, \ref{sec:simd.reductions}).
\item Spell out “iff” (\ref{wording.deducet}).
\item Fixed template argument to \nativeabi\ in the default template argument of \code{basic_simd_mask} (\ref{sec:simd.syn}).
\item Fixed default template argument to \code{simd_mask} to be consistent with \code{simd} (\ref{sec:simd.syn}).
\item Add instructions to add \code{<simd>} to the table of headers in [headers].
\item Add instructions to add a new subclause to the table in [numerics.general].
\item Add instructions to add \code{<simd>} [diff.23.library].
\item Add \simdsizev to the wording and replace \code{simd_size_v} to actually implement “Make \code{simd_size} exposition only.”
\item Restored precondition (and removed \code{noexcept}) on
  \code{reduce_min_index} and \code{reduce_max_index} as directed by LEWG.
\end{revision}

\begin{revision}
\item Strike through wording removed by P3275 (non-const \code{operator[]}).
\item Remove “exposition only” from detailed prose, it's already marked as such in the synopsis.
\item Reorder defintion of \emph{vectorizable type} above its first use.
\item Commas, de-duplication, word order, \code{s/may/can/} in a note.
\item Use text font for “[)” when defining a range of integers.
\item Several small changes from LWG review on 2024-06-26.
\item Reword \code{rebind_simd} and \code{resize_simd}.
\item Remove mention of implementation-defined load/store flags.
\item Remove paragraph about default initialization of \simd.
\item Reword all constructor \emph{Effects} from “Constructs an object \ldots”
  to “Initializes \ldots”.
\item Instead of writing “satisfies X” in \emph{Constraints} and “models X” in
  \emph{Preconditions}, say only “models X” in \emph{Constraints}.
\item Replace \code{is_trivial_v} with “is trivially copyable”.
\item First shot at improving generator function constraints.
\item Reword constraints on unary and binary operators.
\item Add missing/inconsistent \code{explicit} on load constructors.
\item Fix preconditions of subscript operators.
\item Reword effects of compound assignment operators.
\item Add that \code{BinaryOperation} may not modify input \simd.
\item Fix definition of GENERALIZED_SUMs.
\end{revision}

\begin{revision}
\item Say “\textit{op}” instead of “the indicated operator”
\item Fix constraints on shift operators with \simdsizetype{} on the right operand.
\item Remove wording removed by P3275 (non-const \code{operator[]}).
\item Make intrinsics conversion recommended practice.
\item Make \code{simd_flags} template arguments exposition only.
\item Make \code{simd_alignment} \emph{not} implementation-defined.
\item Reword “supported” to “enabled or disabled”.
\item Apply improved wording from \ref{sec:simd.overview} to \ref{sec:simd.mask.overview}.
\item Add comments for LWG to address to broadcast ctor (\ref{sec:simd.ctor}).
\item Respecify generator ctor to not reuse broadcast constraint (\ref{sec:simd.ctor}).
\item Use \code{to_address} on contiguous iterators (\ref{sec:simd.ctor} and \ref{sec:simd.copy}).
  This is more explicit about allowing memcpy on the complete range rather than
  having to iterate the range per element.
\end{revision}

\begin{revision}
\item Fix default size of \code{simd} and \code{simd_mask} aliases
  (\ref{sec:simd.syn}, necessary for
  \std\code{destructible<\MayBreak{}\std{}simd<\MayBreak\std{}string>>} to be well-formed).
\item Extend value-preserving to encompass conversions from all arithmetic
  types. Use this new freedom in \ref{sec:simd.ctor} to fully constrain the
  generator constructor and to plug a specification hole in the broadcast
  constructor.
\item Fix broadcast constructor wording by constraining \constexprwrapperlike
  arguments to arithmetic types.
\item Reword the note in \ref{sec:simd.overview} and
  \ref{sec:simd.mask.overview} to talk about the “architecture of the execution
  environment” as used in the note on \code{int} in [basic.fundamental].
\item Say \code{binary_op} instead of \code{BinaryOperation} in “\ldots does
  not modify \code{x}”. (\ref{sec:simd.reductions})
\item Improve presentation of inputs given to
  \code{\placeholdernc{GENERALIZED_SUM}} in \ref{sec:simd.reductions}.
\item Fix use of the simd broadcast constructor in precondition of
  \code{reduce}.
\item Drop the notes that were trying to explain the intent behind
  enabling/disabling simd(mask) specializations.
\item Reorder \code{binary_op} and \code{identity_element} on masked
  \code{reduce}. Provide \code{std::plus<>} as default \code{BinaryOperation}
  and specify a default argument for \code{identity_element}
  (\ref{sec:simd.reductions}).
\item Use “Equivalent to” wording for \code{simd_select} and carve out an
  exception for ADL for \simdselect (\ref{sec:simd.alg}).
\item Add a constraint for a provided identity element argument for masked
  reduce if the binary operation isn't one of the five known operations.
\item Add exposition only concept \reductionoperation with additional semantic
  constraints and use it in the \code{reduce} constraints
  (\ref{sec:simd.reductions}).
\item Simplify precondition on identity element, using only \code{simd<T, 1>}
  instead of all possible ABI tags. The latter follows from the former through
  mandating an \emph{element-wise binary operation}.
\item Add constraints for \code{simd_split} and \code{simd_cat}, requiring
  enabled \code{basic_simd}/\code{basic_simd_mask} types
  (\ref{sec:simd.creation}).
\item Specify \code{minmax} using “Equivalent to:” wording.
  (\ref{sec:simd.alg})
\item Discuss whether we could/should make \code{simd_flags} exposition only.
  (\sect{sec:simd_flags-expos})
\item Move all exposition only types, variables, and concepts into their own
  section before the synopsis. (\ref{sec:simd.expos})
\end{revision}

\begin{revision}
\item List math functions where results are “Equivalent to” element-wise application of the scalar math function. (\ref{sec:simd.math})
\item Fix syntax errors as noted by LWG.
\item Use \seebelow in \reductionoperation synopsis.
\item Improve introduction of \code{T0}, \code{T1}, and \code{TRest} in \mathcommonsimd.
\item Fix \mathcommonsimd of two types where only one satisfies \mathfloatingpoint.
\item Let \code{binary_op} and \code{v} be \code{const} in \reductionoperation.
\item Fix one-simd-argument math functions to use \code{\deducedsimd<V>} instead of \code{V}.
\item Reword “has a member \code{type}” into “is valid and denotes a type”.
\item Restrict \ref{sec:simd.math} “Equivalent to:” wording with regard to \code{errno}.
\item Remove \code{sqrt} from the list of “Equivalent to:” functions in \ref{sec:simd.math}.
\item Replace wording on conversion to implementation-defined vector types.
\item Drop CTAD conversion on math function arguments \ref{sec:simd.math}.
\item Fix \code{rebind_simd} and \code{resize_simd} to set \code{Abi1}
  correctly (\ref{sec:simd.traits}).
\item Fix missing \code{_v} in \simdfloatingpoint concept.

  %\todo Reorder \code{simd} and \code{simd_mask} specification in the wording (mask first).
\end{revision}
